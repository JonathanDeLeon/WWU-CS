<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>VPN Presentation</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		<style>
		.fragment-replace {
			position: relative;
		}
		.fragment-replace > * {
			position: absolute;
			left: 0;
			right: 0;
			margin-left: auto !important;
			margin-right: auto !important;
			width: 95%;
			max-height: none !important;
		}
		</style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-markdown id="slide-1">
					<script type="text/template">
						## Virtual Private Network

						<br/>
						<br/>
						Jonathan De Leon and Matthew Ma<br/>
						CPTR 210 Data Networks

					</script>
				</section>
				<section id="vertical-slides-2">
					<section>
						<h2>What is a VPN?</h2>
						<p>
							A service that lets you access the web safely and privately by routing(tunneling) your
							connection through a server and hiding your online actions
						</p>
						<img height="300px" src="http://cdn4.wpbeginner.com/wp-content/uploads/2017/03/howvpnworks.png">
					</section>
					<section>
						<h2>How does it work?</h2>
						<div class="fragment-replace">
							<img height="500px" class="fragment current-visible" src="https://thebestvpn.com/wp-content/uploads/2017/11/no-vpn-1024x801.jpeg">
							<img height="500px" class="fragment current-visible" src="https://thebestvpn.com/wp-content/uploads/2017/11/with-vpn-1024x791.jpeg">
						</div>
						<aside class="notes">
						Two connections: one is made to the Internet, the other to the VPN<br>
                        The destination site sees the VPN server as the traffic origin, not you. <br>
                        No one can (easily) identify you or your computer as the source of the data, nor what you’re doing (what websites you’re visiting, what data you’re transferring, etc.).
                        Your data is encrypted, so even if someone does look at what you’re sending, they only see encrypted information and not raw data.<br>

						</aside>
					</section>
				</section>
                <section>
                    <h2>Critical Functions</h2>
                    <ul>
						<li>Authentication</li>
						<li>Access Control</li>
						<li>Confidentiality</li>
						<li>Data Integrity</li>
					</ul>
					<aside class="notes">
						Authentication – validates that the data was sent from the sender.<br>
						Access control – limiting unauthorized users from accessing the network.<br>
						Confidentiality – preventing the data to be read or copied as the data is being transported.<br>
						Data Integrity – ensuring that the data has not been altered
					</aside>
				</section>
				<section id="vertical-slides-3">
					<section>
						<h2>VPN Protocols</h2>
						<ul>
							<li>Point-To-Point Tunneling Protocol (PPTP)</li>
							<li>Layer 2 Tunneling Protocol (L2TP/IPsec)</li>
							<li>OpenVPN</li>
						</ul>
						<aside class="notes">
							PPTP - Designed by Microsoft. Works on old computers. Barely secure<br>
							L2TP/IPsec (Layer 2 Tunneling Protocol). This is a combination of PPTP and Cisco’s L2F protocol. Uses keys to establish a secure connection on each end of your data tunnel Used by the University<br>
							OpenVPN. It’s based on SSL/TLS and it’s an open source project. It secures the connection by using keys that are known only by the two participating parties on either end of the transmission.
						</aside>
					</section>
				</section>
				<section id="slide-4">
						<h2>China VPN</h2>
						<ul>
							<li>Great Firewall uses Deep Packet Inspection</li>
							<li>VPNs are technically not illegal in China</li>
							<li>Successful VPNs use obfuscation to make itself look like non-VPN traffic</li>
						</ul>
					<aside class="notes">
						ExpressVPN - reliably evades the Great Firewall; 158 server locations across 94 countries;
						unblocks Netflix, Hulu, and other streaming services; but slightly expensive
						NordVPN - excellent security with strong encryption; also unblocks streaming services;
						but its iOS app can't evade the Great Firewall
					</aside>
				</section>
				<section id="slide-5">
						<h2>China VPN History</h2>
						<ul>
							<li>2000- Golden Shield Project introduced</li>
							<li>February 2018- China-owned internet service providers were ordered to block access to VPNs</li>
							<li>March 31, 2018- VPN ban came into effect</li>
							<li>Fosters a culture of self censorship</li>
							<li>see: Google's decision</li>
						</ul>
						<aside class="notes">
							Den Xiaoping philosophy: When you open the window, the flies come in<br>
							Project undertaken by MPS- Ministry of Public Security<br>
							Golden Shield Project envisioned to be a comprehensive database-driven surveillance system
							that can access every citizen's record<br>
							China enlisted the assistance of Nortel Networks (spearheaded research), Motorola (wireless comm devices), Sun Microsystems
							(linked 33 provincial police dept), Cisco Systems (provided routers + firewalls)<br>
						</aside>
				</section>
				<section id="slide-6">
					<section>
						<h2>Websites blocked by the Great Firewall</h2>
						- Gmail
						- Google
						- Facebook
						- Youtube
						- Twitter
						- Instagram
						- etc.
					<aside class="notes">
						Of note that Github is now unblocked- potential avenue of dissenting opinion<br>
						It has been unblocked after backlash from users and technology businesses or compliance from Github<br>
					</aside>
					</section>
				</section>
				<section id="slide-7">
					<section>
						<h2>Greatfire.org</h2>
						<ul>
							<li>Run by three dissidents to give people a way around the wall by creating three mirror sites that duplicate banned sites</li>
							<li>Uses Amazon Web Services, which encrypts all its Web pages so that Chinese censors can't pick which pages to block</li>
						</ul>
						<aside class="notes">
							Greatfire received its grant from the US State Dept in 2014 + accepts donations via PayPal
						</aside>
					</section>
				</section>
                <section>
                    <section>
						<h2>Our Implementation</h2>
					</section>
                    <section>
                        <h2>OpenVPN</h2>
                        <ul>
                            <li>Open-source VPN protocol</li>
                            <li>Uses SSL/TLS (OpenSSL) for key exchange</li>
                            <li>Has no known major vulnerabilities</li>
                            <li>Configurable to run on any port and either UDP or TCP</li>
                        </ul>
                    </section>
                    <section>
						<h2>Client-Server</h2>
						<img src="https://cdn3.techadvisor.co.uk/cmsdata/features/3674019/what-is-vpn-how-it-works-need-of-vpn_thumb800.jpg">
					</section>
					<section>
						<h2>Server configuration</h2>
						<pre>
							<code>port 1194
proto udp
dev tun
ca /etc/openvpn/easy-rsa/pki/ca.crt
cert /etc/openvpn/easy-rsa/pki/issued/server.crt
key /etc/openvpn/easy-rsa/pki/private/server.key
dh /etc/openvpn/easy-rsa/pki/dh.pem
cipher AES-256-CBC
auth SHA512
server 10.8.0.0 255.255.255.0
push "redirect-gateway def1 bypass-dhcp"
push "dhcp-option DNS 8.8.8.8"
push "dhcp-option DNS 8.8.4.4"
ifconfig-pool-persist ipp.txt
keepalive 10 120
comp-lzo
persist-key
persist-tun
status openvpn-status.log
log-append openvpn.log
verb 3
tls-server
tls-auth /etc/openvpn/pfs.key</code></pre>
					</section>
					<section>
						<h2>Server Routing Tables</h2>
						<pre>
							<code>sudo iptables -t nat -A POSTROUTING -s 10.4.0.1/2 -o eth0 -j MASQUERADE
sudo iptables -t nat -A POSTROUTING -s 10.8.0.0/24 -o eth0 -j MASQUERADE</code>
						</pre>
						<aside class="notes">
                            Consult the NAT table and append a rule for packets going out<br>
							The rule is to create a virtual connection and share the connection without disrupting original traffic
						</aside>
					</section>
					<section>
						<h2>Client configuration</h2>
						<pre>
							<code>client
dev tun
proto udp
remote 52.88.220.200 1194
ca ca.crt
cert client.crt
key client.key
tls-version-min 1.2
tls-cipher TLS-ECDHE-RSA-WITH-AES-128-GCM-SHA256:TLS-ECDHE-ECDSA-WITH-AES-128-GCM-SHA256:TLS-ECDHE-RSA-WITH-AES-256-GCM-SHA384:TLS-DHE-RSA-WITH-AES-256-CBC-SHA256
cipher AES-256-CBC
auth SHA512
resolv-retry infinite
auth-retry none
nobind
persist-key
persist-tun
ns-cert-type server
comp-lzo
verb 3
tls-client
tls-auth pfs.key</code></pre>
					</section>
				</section>
				<section>
					<h2>Demo</h2>
				</section>
				<section>
					<section>
						<h2>Conclusion</h2>
					</section>
                    <section>
						<h2>When to use a VPN?</h2>
						<ul>
							<li>Encrypt your activity on the web</li>
							<li>Hide your location</li>
							<li>Protected connection on a public WiFi hotspot</li>
						</ul>
					</section>
				</section>
				<section>
					<h2>Q&A</h2>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
